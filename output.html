<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <script src="https://www.gstatic.com/firebasejs/4.12.0/firebase.js"></script>
  <script src="https://www.gstatic.com/firebasejs/4.12.0/firebase-firestore.js"></script>

</head>

<body>

  <div class="output"></div>


  <script>
    // Your web app's Firebase configuration
    const firebaseConfig = {
      apiKey: "AIzaSyDca2GXDy9PQu0NErV-LAg-a9TuJmhFifQ",
      authDomain: "notice-board-23eed.firebaseapp.com",
      projectId: "notice-board-23eed",
      storageBucket: "notice-board-23eed.appspot.com",
      messagingSenderId: "966190654407",
      appId: "1:966190654407:web:dffee7c81529b8d569afe2"
    };

    console.log("firebase", { firebase });

    // Initialize Firebase
    const app = firebase.initializeApp(firebaseConfig);

    let db = firebase.firestore();

    db.collection("notice_boards")
      .onSnapshot((snapshot) => {
        const data = snapshot.docs.map((doc) => ({
          id: doc.id,
          ...doc.data(),
        }));
        console.log("All data in 'books' collection", data);
        document.querySelector(".output").innerHTML = data.map((e) => "<h2>" + e.text + "</h2>").join("");
      });
  </script>

</body>

</html>
